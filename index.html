<!doctype html>
<html lang="fr">
<head>
  <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebSite",
  "name": "LaBible.app",
  "url": "https://labible.app",
  "description": "Lire la Bible en ligne gratuitement â€“ Louis Segond 1910 (LSG).",
  "inLanguage": "fr",
  "publisher": {
    "@type": "Organization",
    "name": "LaBible.app"
  }
}
</script>

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />

  <title>Bible en ligne â€“ Louis Segond 1910 (LSG) | La Bible complÃ¨te en franÃ§ais</title>
  <meta name="description" content="Lire la Bible en ligne gratuitement â€“ Louis Segond 1910 (LSG). Recherche rapide, favoris et partage de versets sur LaBible.app." />
  <link rel="canonical" href="https://labible.app/" />

  <link rel="stylesheet" href="/style.css" />
  <link rel="manifest" href="/manifest.webmanifest">
  <meta name="theme-color" content="#0b0f14">

  <!-- âœ… Google Analytics (GA4) â€” G-FDT2GP8C8F -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-FDT2GP8C8F"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}

    // RGPD: comeÃ§a bloqueado atÃ© o utilizador aceitar
    gtag('consent', 'default', { analytics_storage: 'denied' });

    gtag('js', new Date());
    gtag('config', 'G-FDT2GP8C8F', { anonymize_ip: true });
  </script>
</head>

<body>
  <header class="topbar">
    <div class="brand">
      <div class="logo">ðŸ“–</div>
      <div class="brandtext">
        <div class="title">La Bible</div>
        <div class="subtitle">Louis Segond 1910</div>
      </div>
    </div>

    <button id="toggleTheme" class="iconbtn" title="Mode sombre">ðŸŒ™</button>
  </header>

  <main class="wrap">
    <section class="card">
      <div class="controls">
        <div class="field">
          <label for="book">Livre</label>
          <select id="book"></select>
        </div>

        <div class="field">
          <label for="chap">Chapitre</label>
          <select id="chap"></select>
        </div>

        <div class="actions">
          <button id="btnSelectMode" class="btn btn-secondary">â˜‘ SÃ©lection</button>
          <button id="btnFav" class="btn">â˜… Favori</button>
          <button id="btnShowFav" class="btn btn-secondary">Voir favoris</button>
        </div>
      </div>

      <div class="search">
        <input id="q" type="search" placeholder="Rechercher (ex: amour, lumiÃ¨re, foi...)" />
        <button id="btnSearch" class="btn">Chercher</button>
        <button id="btnClear" class="btn btn-secondary">Effacer</button>
      </div>

      <div id="results" class="results hidden">
        <div class="resultshead">
          <h3>RÃ©sultats</h3>
          <button id="btnCloseResults" class="iconbtn" title="Fermer">âœ•</button>
        </div>
        <div id="hits"></div>
      </div>
    </section>

    <section class="card reader">
      <div class="readerhead">
        <h2 id="title">â€”</h2>
        <div class="hint">ðŸ”— pour partager 1 verset â€¢ â˜‘ pour sÃ©lectionner plusieurs</div>
      </div>
      <div id="content" class="content"></div>
    </section>

    <section id="favBox" class="card favbox hidden">
      <div class="favhead">
        <h3>Favoris</h3>
        <button id="btnCloseFav" class="iconbtn" title="Fermer">âœ•</button>
      </div>
      <div id="favList"></div>
    </section>

    <!-- RodapÃ© simples -->
    <footer class="footer">
      <span>Texte biblique : Louis Segond 1910 (LSG) â€” Domaine public.</span><br>
      <a href="/mentions-legales.html">Mentions lÃ©gales</a> |
      <a href="/confidentialite.html">Politique de confidentialitÃ©</a>
    </footer>
  </main>

  <!-- âœ… Barre de partage multi-versets -->
  <div id="multiBar" class="multibar hidden">
    <div class="multibar-left">
      <div id="multiCount" class="multibar-count">0 sÃ©lectionnÃ©</div>
      <div class="multibar-hint">Touchez les versets pour sÃ©lectionner</div>
    </div>
    <div class="multibar-actions">
      <button id="btnMultiShare" class="btn">Partager</button>
      <button id="btnMultiCopy" class="btn btn-secondary">Copier</button>
      <button id="btnMultiClear" class="btn btn-secondary">Effacer</button>
    </div>
  </div>

  <!-- âœ… Banner RGPD (Analytics) -->
  <div id="cookieBox" style="position:fixed;left:12px;right:12px;bottom:12px;padding:12px;border-radius:12px;background:#111;color:#fff;z-index:9999;display:none">
    <div style="font-weight:700;margin-bottom:6px">Cookies</div>
    <div style="font-size:13px;opacity:.9;margin-bottom:10px">
      Nous utilisons Google Analytics pour mesurer lâ€™audience et amÃ©liorer le site.
    </div>
    <button id="cookieAccept" style="padding:10px 12px;border-radius:10px;border:0;font-weight:700">Accepter</button>
    <button id="cookieRefuse" style="padding:10px 12px;border-radius:10px;border:0;margin-left:8px">Refuser</button>
  </div>

  <script src="/app.js"></script>

  <script>
    // Service worker (PWA)
    if ("serviceWorker" in navigator) {
      navigator.serviceWorker.register("/sw.js");
    }

    // Cookie consent (RGPD) para GA4
    (function(){
      const key = "labible_cookie_choice_v1";
      const box = document.getElementById("cookieBox");
      const saved = localStorage.getItem(key);

      function show(){ box.style.display = "block"; }
      function hide(){ box.style.display = "none"; }

      function accept(){
        localStorage.setItem(key, "accepted");
        if (window.gtag) gtag('consent', 'update', { analytics_storage: 'granted' });
        hide();
      }

      function refuse(){
        localStorage.setItem(key, "refused");
        hide();
      }

      if (!saved) show();
      else if (saved === "accepted") {
        if (window.gtag) gtag('consent', 'update', { analytics_storage: 'granted' });
        hide();
      } else {
        hide();
      }

      document.getElementById("cookieAccept").onclick = accept;
      document.getElementById("cookieRefuse").onclick = refuse;
    })();
  </script>
</body>
</html>
